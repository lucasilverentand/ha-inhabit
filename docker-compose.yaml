# Docker Compose for local development
# Usage: docker compose up
# Then open http://localhost:8123

services:
  homeassistant:
    image: ghcr.io/home-assistant/home-assistant:stable
    container_name: inhabit-dev
    ports:
      - "8123:8123"
    volumes:
      # Mount the integration for live reloading
      - ./custom_components/inhabit:/config/custom_components/inhabit:ro
      # Mount the dev config
      - ./.devcontainer/config/configuration.yaml:/config/configuration.yaml:ro
      # Persist HA data between restarts
      - ha-data:/config
    environment:
      - TZ=Europe/Amsterdam
    restart: unless-stopped

volumes:
  ha-data:
